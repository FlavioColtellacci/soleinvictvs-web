{
  "agent": "colombo",
  "type": "blueprint",
  "blueprint_id": "C-010",
  "timestamp": "2026-02-23T18:30:00Z",
  "source_plan": "E-005",
  "project": "soleinvictvs-web",
  "output_dir": "soleinvictvs-web/",
  "tech_stack": {
    "language": "HTML/CSS",
    "framework": "none",
    "dependencies": []
  },
  "pre_flight_fixes": [
    "Token discrepancy between index.html and C-006 tool pages: index.html uses --bg:#0a0806, --dim, --stone, --bronze; tools use --bg:#0A0A0A, --text-muted, --gold-muted, --border. DECISION: Do not alter index.html tokens in this blueprint. Only add --font-display, --font-serif, --font-ui to index.html :root. The nav HTML block is identical across pages but each page's nav CSS references that page's own token names. Full token harmonisation is logged as debt. See DEBT issue below.",
    "assets/fonts/ directory does not exist. The @font-face block references soleinvictvs-web/assets/fonts/ — this path is specced in the commented block only. Operator creates the directory and drops files when ready. Do not create assets/fonts/ in this blueprint.",
    "virtue-audit.html has NO current nav or footer — it is a fullscreen JS view-switched quiz app. The shared nav is added as position:static above the quiz views. This is intentional. A fixed nav would fight the fullscreen view UX. See DECISION issue below."
  ],
  "specs": [
    {
      "spec_id": "C-010-A",
      "source_task": "E-005-T5",
      "title": "The Seasons font preparation on index.html",
      "description": "Add the commented @font-face block for The Seasons, add font CSS custom properties, and apply the new --font-display stack to .nav-logo and .hero-title on index.html. All other Cinzel declarations stay unchanged. This is a two-line uncomment activation pattern identical to virtue-audit.html and fortress-protocol.html.",
      "files": [
        {
          "path": "soleinvictvs-web/index.html",
          "action": "modify",
          "purpose": "Add The Seasons font preparation — commented @font-face block + CSS var + apply to logotype and hero title",
          "details": "STEP 1 — Add commented @font-face block. Insert as an HTML comment block immediately before the existing <link> Google Fonts tag in <head>. The block must be identical in structure to the one in virtue-audit.html and fortress-protocol.html:\n\n<!--\n  FONT SWAP — The Seasons\n  When TheSeasons-Regular.woff2 + TheSeasons-Italic.woff2 land in assets/fonts/,\n  uncomment the block below and remove the Google Fonts link.\n\n  @font-face {\n    font-family: 'The Seasons';\n    src: url('assets/fonts/TheSeasons-Regular.woff2') format('woff2');\n    font-weight: 400; font-style: normal; font-display: swap;\n  }\n  @font-face {\n    font-family: 'The Seasons';\n    src: url('assets/fonts/TheSeasons-Italic.woff2') format('woff2');\n    font-weight: 400; font-style: italic; font-display: swap;\n  }\n-->\n\nNOTE: Path is assets/fonts/ (relative from index.html in soleinvictvs-web/). Tool pages use ../assets/fonts/ because they also live in soleinvictvs-web/ — same relative path. Confirm the path matches the existing tool page pattern.\n\nSTEP 2 — Update Google Fonts link. The current link loads only Cinzel and Inter. Add Cormorant+Garamond:ital,wght@0,400;0,600;1,400 and Cinzel+Decorative:wght@400;700 to the same import URL so they are available as fallbacks and for other uses.\n\nSTEP 3 — Add CSS custom properties to :root. Insert these three lines into the existing :root block:\n  --font-display: 'The Seasons', 'Cormorant Garamond', serif;\n  --font-serif:   'Cormorant Garamond', serif;\n  --font-ui:      'Inter', sans-serif;\n\nSTEP 4 — Update .nav-logo font-family. Change from 'Cinzel', serif to var(--font-display). Size, letter-spacing, color stay identical.\n\nSTEP 5 — Update .hero-title font-family. Change from 'Cinzel', serif to var(--font-display). Weight (900), size (clamp), letter-spacing, line-height, color all stay identical.\n\nNo other font-family declarations in index.html are touched. All other 'Cinzel' references stay on 'Cinzel', serif."
        }
      ],
      "sequence_order": 1,
      "depends_on": null,
      "acceptance_criteria": "index.html loads in browser with SOLEINVICTVS logotype and hero title visually rendering in Cormorant Garamond (fallback active since .woff2 files are absent). All other text continues to render in Cinzel. No visual regression on any other section. The @font-face block is present as a comment in the HTML source. Verify by viewing source.",
      "edge_cases": [
        "The Seasons will not visually appear — it has no file to load. Cormorant Garamond must render. Confirm in browser dev tools that font-family resolves to Cormorant Garamond on .nav-logo and .hero-title.",
        "Verify the Google Fonts URL renders correctly — no 400 errors on font requests after the URL update.",
        "Do not touch .hero-tagline, .hero-eyebrow, .section-title, or any other heading — only .nav-logo and .hero-title get --font-display."
      ],
      "estimated_effort": "small"
    },
    {
      "spec_id": "C-010-B",
      "source_task": "E-005-T4",
      "title": "Canonical shared nav and footer — index.html",
      "description": "Update index.html's existing nav and footer to the canonical shared structure. Nav links change from internal anchors to page links. Nav element gets class and data-page applies to body. Footer gets canonical structure. Active nav state CSS added.",
      "files": [
        {
          "path": "soleinvictvs-web/index.html",
          "action": "modify",
          "purpose": "Update nav to shared canonical pattern; update footer to shared structure; add active nav state",
          "details": "NAV HTML CHANGES:\n- Add class='site-nav' to the existing <nav> element.\n- Nav link hrefs change as follows:\n    #vault     →  vault.html\n    #codex     →  codex.html\n    #about     →  about.html\n    #newsletter stays as #newsletter (internal anchor — index.html is home)\n- 'Join the Legion' text stays as-is.\n- The nav <ul class='nav-links'> and <li> structure is unchanged.\n- The .nav-logo href stays as '/' (home root).\n\nBODY TAG:\n- Add data-page='home' attribute to the <body> tag.\n\nFOOTER HTML CHANGES:\n- Add class='site-footer' to the existing <footer> element.\n- Add class='footer-brand' to the existing <span class='footer-logo'>.\n- The footer-links <div> and footer-copy <span> stay with their current classes.\n- Footer content (social links, copyright) unchanged.\n\nNAV CSS CHANGES:\n- Add .site-nav { } selector as an alias for the existing bare nav { } rule. Either rename nav { } to .site-nav { } or add both. Simpler to just rename nav { } to .site-nav { }.\n- Add active nav state rule block:\n    body[data-page='vault'] .nav-links a[href='vault.html'],\n    body[data-page='codex'] .nav-links a[href='codex.html'],\n    body[data-page='about'] .nav-links a[href='about.html'] { color: var(--gold); }\n  This rule does nothing on index.html (data-page='home') — intentional. Home has no nav item to highlight.\n- Update @media (max-width: 900px) nav selector from nav { } to .site-nav { } if it was renamed.\n\nHERO CTA HREFS — DO NOT TOUCH:\n- 'Enter the Vault' btn href='#vault' stays pointing to the on-page vault section.\n- 'Join the Legion' btn href='#newsletter' stays pointing to the on-page newsletter section.\n- These are scroll CTAs, not nav links. They are intentionally different."
        }
      ],
      "sequence_order": 2,
      "depends_on": "C-010-A",
      "acceptance_criteria": "Nav links in index.html now point to vault.html, codex.html, about.html. The 'Join the Legion' nav link stays as #newsletter. Nav element has class='site-nav'. Body has data-page='home'. Footer has class='site-footer'. Hero CTAs are unchanged. Page renders and scrolls identically to before this change.",
      "edge_cases": [
        "vault.html and codex.html and about.html do not exist yet — the nav links will be dead links until C-011/C-012/C-013 ship. This is acceptable — they ship in the same PR.",
        "Do not change any hero CTA hrefs — only nav <li><a> elements get updated."
      ],
      "estimated_effort": "small"
    },
    {
      "spec_id": "C-010-C",
      "source_task": "E-005-T4 + E-005-T5",
      "title": "Shared nav and footer + font prep — virtue-audit.html",
      "description": "virtue-audit.html is a fullscreen JS view-switched quiz app. It currently has NO site nav or footer. Add the canonical shared nav above the first view div and the canonical shared footer below the last view div. Nav is position:static (not fixed) on this tool page — a fixed nav would fight the fullscreen view UX. Also update --font-display to use The Seasons stack.",
      "files": [
        {
          "path": "soleinvictvs-web/virtue-audit.html",
          "action": "modify",
          "purpose": "Add shared nav + footer; update font-display var; add active nav state CSS",
          "details": "FONT UPDATE:\n- Change --font-display in :root from 'Cinzel Decorative', serif to 'The Seasons', 'Cormorant Garamond', serif.\n- The --font-serif and --font-ui vars already exist — leave them unchanged.\n- The existing commented @font-face block is already correctly structured — do not touch it.\n\nNAV — ADD TO HTML:\nInsert the following nav block at the very top of <body>, before the first <div id='view-landing'>:\n\n<nav class='site-nav'>\n  <a href='index.html' class='nav-logo'>SOLEINVICTVS</a>\n  <ul class='nav-links'>\n    <li><a href='vault.html'>The Vault</a></li>\n    <li><a href='codex.html'>The Codex</a></li>\n    <li><a href='about.html'>Philosophy</a></li>\n    <li><a href='index.html#newsletter'>Join the Legion</a></li>\n  </ul>\n</nav>\n\nNAV — ADD TO CSS (add to existing <style> block):\nAdd a full shared nav CSS block. All token references use the C-006 variable names already in this file (--bg, --surface, --border, --text, --text-muted, --gold, --font-display, --font-ui).\n\n.site-nav {\n  position: static;  /* TOOL PAGE OVERRIDE — not fixed; sits above quiz app */\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem 3rem;\n  border-bottom: 1px solid var(--border);\n  background: var(--bg);\n  z-index: 100;\n}\n.nav-logo {\n  font-family: var(--font-display);\n  font-size: .65rem;\n  letter-spacing: .4em;\n  color: var(--gold);\n  text-decoration: none;\n}\n.nav-links { display: flex; gap: 3rem; list-style: none; }\n.nav-links a {\n  font-family: 'Cinzel', serif;\n  font-size: .55rem;\n  letter-spacing: .25em;\n  color: var(--text-muted);\n  text-decoration: none;\n  text-transform: uppercase;\n  transition: color .3s;\n}\n.nav-links a:hover { color: var(--gold); }\n\nActive state rule (virtue-audit has no active nav item — include the rule block anyway for consistency, it just won't fire):\nbody[data-page='vault'] .nav-links a[href='vault.html'],\nbody[data-page='codex'] .nav-links a[href='codex.html'],\nbody[data-page='about'] .nav-links a[href='about.html'] { color: var(--gold); }\n\n@media (max-width: 900px) {\n  .site-nav { padding: 1rem 1.5rem; }\n  .nav-links { display: none; }\n}\n\nADD data-page ATTRIBUTE:\nAdd data-page='virtue-audit' to the <body> tag.\n\nFOOTER — ADD TO HTML:\nInsert the following footer block at the very end of <body>, immediately before the closing </body> tag (after all view divs, after the <script> block):\n\n<footer class='site-footer'>\n  <span class='footer-brand'>SOLEINVICTVS</span>\n  <div class='footer-links'>\n    <a href='#'>X / Twitter</a>\n    <a href='#'>YouTube</a>\n    <a href='#'>Instagram</a>\n  </div>\n  <span class='footer-copy'>© MMXXVI · Semper ad meliora</span>\n</footer>\n\nFOOTER — ADD TO CSS:\n.site-footer {\n  padding: 2.5rem 3rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-top: 1px solid var(--border);\n  background: var(--bg);\n}\n.footer-brand {\n  font-family: 'Cinzel', serif;\n  font-size: .6rem;\n  letter-spacing: .35em;\n  color: var(--text-muted);\n}\n.footer-copy {\n  font-size: .6rem;\n  color: var(--text-muted);\n  letter-spacing: .1em;\n}\n.footer-links { display: flex; gap: 1.5rem; }\n.footer-links a {\n  font-size: .6rem;\n  color: var(--text-muted);\n  text-decoration: none;\n  letter-spacing: .1em;\n  transition: color .3s;\n}\n.footer-links a:hover { color: var(--gold); }\n\n@media (max-width: 900px) {\n  .site-footer { flex-direction: column; gap: 1rem; text-align: center; padding: 2rem 1.5rem; }\n  .footer-links { display: none; }\n}\n\nIMPORTANT: The existing .nav-logo, .nav-back CSS rules from the old site-nav pattern are already absent in virtue-audit — this is a net addition only. Do not disturb any existing quiz CSS."
        }
      ],
      "sequence_order": 3,
      "depends_on": "C-010-A",
      "acceptance_criteria": "virtue-audit.html displays a shared nav bar at the top (static, not overlapping quiz content) and a shared footer at the bottom. Clicking SOLEINVICTVS logo navigates to index.html. The quiz app functionality is completely unaffected — all views switch correctly, scoring works, the gate works. Nav visually matches the nav on index.html in style and typography.",
      "edge_cases": [
        "The nav must NOT be position:fixed on virtue-audit — the quiz landing view would be partially obscured. Test by opening the file and verifying the landing sun + title + start button are fully visible without overlap.",
        "The footer appears below the last active view — it will only be visible when the results view is active and the user scrolls down. This is correct behavior.",
        "Do not touch any of the quiz CSS, view logic, or JS functions."
      ],
      "estimated_effort": "small"
    },
    {
      "spec_id": "C-010-D",
      "source_task": "E-005-T4 + E-005-T5",
      "title": "Shared nav and footer + font prep — fortress-protocol.html",
      "description": "fortress-protocol.html has a minimal 2-element site-nav (logo + back-link) and a 2-element site-footer. Replace both with the canonical shared versions. Update --font-display to The Seasons stack. Nav is position:static on this tool page.",
      "files": [
        {
          "path": "soleinvictvs-web/fortress-protocol.html",
          "action": "modify",
          "purpose": "Replace minimal nav/footer with canonical shared versions; update font-display var",
          "details": "FONT UPDATE:\n- Change --font-display in :root from 'Cinzel Decorative', serif to 'The Seasons', 'Cormorant Garamond', serif.\n- The --font-serif and --font-ui vars already exist — leave unchanged.\n- The existing commented @font-face block is already correctly structured — do not touch it.\n\nNAV — REPLACE HTML:\nFind the existing <nav class='site-nav'> block (which currently contains logo + back-link). Replace the entire block with:\n\n<nav class='site-nav'>\n  <a href='index.html' class='nav-logo'>SOLEINVICTVS</a>\n  <ul class='nav-links'>\n    <li><a href='vault.html'>The Vault</a></li>\n    <li><a href='codex.html'>The Codex</a></li>\n    <li><a href='about.html'>Philosophy</a></li>\n    <li><a href='index.html#newsletter'>Join the Legion</a></li>\n  </ul>\n</nav>\n\nNAV — REPLACE CSS:\nRemove the existing .site-nav, .nav-logo, .nav-back CSS rules. Replace with the same shared nav CSS as C-010-C (same token names apply — fortress-protocol uses C-006 tokens):\n\n.site-nav {\n  position: static;  /* TOOL PAGE OVERRIDE */\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem 3rem;\n  border-bottom: 1px solid var(--border);\n  background: var(--bg);\n  z-index: 100;\n}\n.nav-logo {\n  font-family: var(--font-display);\n  font-size: .65rem;\n  letter-spacing: .4em;\n  color: var(--gold);\n  text-decoration: none;\n}\n.nav-links { display: flex; gap: 3rem; list-style: none; }\n.nav-links a {\n  font-family: 'Cinzel', serif;\n  font-size: .55rem;\n  letter-spacing: .25em;\n  color: var(--text-muted);\n  text-decoration: none;\n  text-transform: uppercase;\n  transition: color .3s;\n}\n.nav-links a:hover { color: var(--gold); }\nbody[data-page='vault'] .nav-links a[href='vault.html'],\nbody[data-page='codex'] .nav-links a[href='codex.html'],\nbody[data-page='about'] .nav-links a[href='about.html'] { color: var(--gold); }\n@media (max-width: 900px) {\n  .site-nav { padding: 1rem 1.5rem; }\n  .nav-links { display: none; }\n}\n\nADD data-page ATTRIBUTE:\nAdd data-page='fortress-protocol' to the <body> tag.\n\nFOOTER — REPLACE HTML:\nFind the existing <footer class='site-footer'> block (which currently contains footer-brand + footer-link). Replace the entire block with:\n\n<footer class='site-footer'>\n  <span class='footer-brand'>SOLEINVICTVS</span>\n  <div class='footer-links'>\n    <a href='#'>X / Twitter</a>\n    <a href='#'>YouTube</a>\n    <a href='#'>Instagram</a>\n  </div>\n  <span class='footer-copy'>© MMXXVI · Semper ad meliora</span>\n</footer>\n\nFOOTER — REPLACE CSS:\nRemove the existing .site-footer, .footer-brand, .footer-link CSS rules. Replace with shared footer CSS (same as C-010-C — C-006 token names).\n\nPRINT STYLE CONSIDERATION:\nfortress-protocol.html has @media print { } rules. Confirm that .site-nav and .site-footer are excluded from print output. The existing print block likely already hides .site-nav — verify. If not present, add: @media print { .site-nav, .site-footer { display: none !important; } } to the print block."
        }
      ],
      "sequence_order": 4,
      "depends_on": "C-010-A",
      "acceptance_criteria": "fortress-protocol.html displays the shared 4-link nav and full footer. The 'The Fortress Protocol' content is visually unchanged. The Virtue Audit back-link is gone (no longer needed — users navigate via shared nav). Print output has no nav or footer. The gated content, print CTA, and gate unlock functionality work identically to before.",
      "edge_cases": [
        "The print block must exclude .site-nav and .site-footer — the protocol is a print document and a shared nav in the printout would be wrong.",
        "Removing the .nav-back link is intentional. Users navigate back to the site via The Vault nav link (vault.html includes fortress-protocol). If operator objects to removing the back-link, note it — but Colombo's call is to remove it for consistency.",
        "fortress-protocol is a long page — the non-fixed nav means users lose nav access on scroll. Acceptable for a tool page. If in a future revision a sticky nav is desired, that is a separate scope item."
      ],
      "estimated_effort": "small"
    }
  ],
  "issues_to_raise": [
    {
      "title": "[DECISION] nav — tool pages get position:static nav, content pages get position:fixed",
      "repo": "FlavioColtellacci/soleinvictvs-web",
      "labels": ["priority:p3", "type:decision"],
      "body": "virtue-audit.html and fortress-protocol.html are tool/app pages. Their nav is position:static (flows above the page content). Content pages (index, codex, vault, about) use position:fixed (overlays the hero background). This is intentional. A fixed nav on virtue-audit would overlap the fullscreen quiz view landing. A fixed nav on fortress-protocol would require padding on the hero header. The trade-off is that tool page users lose nav access mid-scroll. Accepted for E-005 scope."
    },
    {
      "title": "[DEBT] tokens — index.html uses pre-C-006 token names",
      "repo": "FlavioColtellacci/soleinvictvs-web",
      "labels": ["priority:p3", "type:debt"],
      "body": "index.html uses --dim, --stone, --bronze, --bg:#0a0806, --surface:#111009 from the pre-C-006 build. Tool pages and all new E-005 pages use the C-006 set (--text-muted, --gold-muted, --border, --bg:#0A0A0A, --surface:#111111). The shared nav and footer CSS on index.html references --dim instead of --text-muted. These diverge by small values and are visually imperceptible. Full token harmonisation should happen in a dedicated refactor pass (E-006 candidate) — not in E-005 to avoid breaking the live homepage."
    }
  ],
  "total_specs": 4,
  "build_sequence_summary": "C-010-A (font prep, index.html) → C-010-B (nav/footer update, index.html) → C-010-C (nav/footer add, virtue-audit.html) → C-010-D (nav/footer replace, fortress-protocol.html). All four specs modify existing files. None create new files. The three new pages (codex, vault, about) are built in C-011, C-012, C-013 — they inherit this blueprint's patterns.",
  "risks_and_notes": "Primary risk: disrupting virtue-audit quiz UX with the added nav. Mitigated by position:static spec. Secondary risk: print output on fortress-protocol including nav/footer — mitigated by explicit print-block instruction. The token divergence between index.html and C-006 pages is accepted debt. The Seasons font will not visually render until the operator provides woff2 files — Cormorant Garamond fallback is the intended active state for E-005.",
  "message_to_operator": "C-010 is the foundation blueprint. After Vitalik ships it, all 6 pages will have the shared nav/footer. The Seasons font shows as Cormorant Garamond until you drop TheSeasons-Regular.woff2 and TheSeasons-Italic.woff2 into soleinvictvs-web/assets/fonts/ — then uncomment the @font-face block in each file. No layout changes needed when you activate the font.",
  "message_to_vitalik": "BUILD ORDER:\n1. index.html — C-010-A: add commented @font-face block, update Google Fonts URL, add --font-display/--font-serif/--font-ui to :root, apply var(--font-display) to .nav-logo and .hero-title only.\n2. index.html — C-010-B: add class='site-nav' to nav, add data-page='home' to body, update nav hrefs (#vault→vault.html, #codex→codex.html, #about→about.html, leave #newsletter as-is), add footer class, add active nav CSS rule.\n3. virtue-audit.html — C-010-C: update --font-display var, insert shared nav HTML (position:static) at top of body, insert shared nav CSS, insert shared footer HTML at bottom of body, insert shared footer CSS, add data-page='virtue-audit' to body.\n4. fortress-protocol.html — C-010-D: update --font-display var, replace existing nav HTML and CSS with shared canonical versions (position:static), replace existing footer HTML and CSS with canonical version, add data-page='fortress-protocol' to body, verify print block excludes .site-nav and .site-footer.\n\nWATCH OUT FOR:\n- virtue-audit: nav must be position:static. Do NOT use fixed or sticky — quiz landing will break.\n- fortress-protocol: add display:none to .site-nav and .site-footer inside the existing @media print {} block.\n- index.html: hero CTAs (Enter the Vault → #vault, Join the Legion → #newsletter) are NOT nav links — do not change them.\n- Apply --font-display ONLY to .nav-logo and .hero-title on index.html. Nothing else.\n\nDO NOT:\n- Alter any quiz CSS, view JS, or print CSS beyond adding the nav/footer print exclusion.\n- Create assets/fonts/ directory — operator's job.\n- Change any token values in index.html.\n\nDONE WHEN:\n- All 3 existing pages show the shared 4-link nav and full footer.\n- virtue-audit quiz still works end-to-end.\n- fortress-protocol still prints correctly (no nav/footer in print preview).\n- index.html .nav-logo and .hero-title render in Cormorant Garamond (The Seasons fallback active)."
}
